<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Pickle</title><link rel="stylesheet" href="byte.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.67.2" /><link rel="start" href="index.html" title="A Byte of Python" /><link rel="up" href="io.html" title="Chapter 12. Input/Output" /><link rel="prev" href="io.html" title="Chapter 12. Input/Output" /><link rel="next" href="io-summary.html" title="Summary" /></head><body>
<div class="header">
<strong><a href="http://www.byteofpython.info/" class="header-link">A Byte of Python</a></strong>
</div>
<div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Pickle</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="io.html"><img src="images/prev.gif" alt="Prev" /></a> </td><th width="60%" align="center">Chapter 12. Input/Output</th><td width="20%" align="right"> <a accesskey="n" href="io-summary.html"><img src="images/next.gif" alt="Next" /></a></td></tr></table><hr /></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="pickle"></a>Pickle</h2></div></div></div><p>
		
		Python provides a standard module called <code class="literal">pickle</code> using which you can
		store <span class="bold"><strong>any</strong></span> Python object in a file and then get it back
		later intact. This is called storing the object <span class="emphasis"><em>persistently</em></span>.
		
		</p><p>
		
		There is another module called <code class="literal">cPickle</code> which functions exactly same as
		the <code class="literal">pickle</code> module except that it is written in the C language and is
		(upto 1000 times) faster. You can use either of these modules, although we will be using
		the <code class="literal">cPickle</code> module here. Remember though, that we refer to both these
		modules as simply the <code class="literal">pickle</code> module.
		
		</p><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h3 class="title"><a id="pickling-and-unpickling"></a>Pickling and Unpickling</h3></div></div></div><div class="example"><a id="id3075130"></a><p class="title"><b>Example 12.2. Pickling and Unpickling</b></p><pre class="programlisting">
				
<span class="py-comment">#!/usr/bin/python</span>
<span class="py-comment"># Filename: pickling.py</span>

<span class="py-statement">import</span> <span class="py-builtin">cPickle</span> as p
<span class="py-comment">#import pickle as p</span>

shoplistfile = <span class="py-string">'shoplist.data'</span> <span class="py-comment"># the name of the file where we will store the object</span>

shoplist = [<span class="py-string">'apple'</span>, <span class="py-string">'mango'</span>, <span class="py-string">'carrot'</span>]

<span class="py-comment"># Write to the file</span>
f = <span class="py-builtin">file</span>(shoplistfile, <span class="py-string">'w'</span>)
p.dump(shoplist, f) <span class="py-comment"># dump the object to a file</span>
f.close()

<span class="py-statement">del</span> shoplist <span class="py-comment"># remove the shoplist</span>

<span class="py-comment"># Read back from the storage</span>
f = <span class="py-builtin">file</span>(shoplistfile)
storedlist = p.load(f)
<span class="py-statement">print</span> storedlist
				
				</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="id3075143"></a>Output</h4></div></div></div><pre class="screen">
				
$ python pickling.py
['apple', 'mango', 'carrot']
				
				</pre></div><div class="section" lang="en" xml:lang="en"><div class="titlepage"><div><div><h4 class="title"><a id="id3075174"></a>How It Works</h4></div></div></div><p>
				
				First, notice that we use the <code class="literal">import..as</code> syntax. This
				is handy since we can use a shorter name for a module. In this case, it even
				allows us to switch to a different module (<code class="literal">cPickle</code>
				or <code class="literal">pickle</code>) by simply changing one line! In the rest of the
				program, we simply refer to this module as <code class="varname">p</code>.
				
				</p><p>
				
				To store an object in a file, first we open a <code class="classname">file</code>
				object in write mode and store the object into the open file by calling
				the <code class="function">dump</code> function of the pickle module. This process
				is called <span class="emphasis"><em>pickling</em></span>.
				
				</p><p>
				
				Next, we retrieve the object using the <code class="function">load</code> function
				of the <code class="literal">pickle</code> module which returns the object.
				This process is called <span class="emphasis"><em>unpickling</em></span>.
				
				</p></div></div></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="io.html"><img src="images/prev.gif" alt="Prev" /></a> </td><td width="20%" align="center"><a accesskey="u" href="io.html"><img src="images/up.gif" alt="Up" /></a></td><td width="40%" align="right"> <a accesskey="n" href="io-summary.html"><img src="images/next.gif" alt="Next" /></a></td></tr><tr><td width="40%" align="left" valign="top">Chapter 12. Input/Output </td><td width="20%" align="center"><a accesskey="h" href="index.html"><img src="images/home.gif" alt="Home" /></a></td><td width="40%" align="right" valign="top"> Summary</td></tr></table></div></body></html>
